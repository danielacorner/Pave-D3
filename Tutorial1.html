<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<!-- <meta name="viewport", content="width = device-width, initial-scale = 1"> -->
	<!-- Bootstrap sources -->
	<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js" integrity="sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4" crossorigin="anonymous"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/js/bootstrap.min.js" integrity="sha384-h0AbiXch4ZDo7tp9hKZ4TsHbi047NrKGLO3SEJAg45jXxnGIfYzk4Si90RDIqNm1" crossorigin="anonymous"></script>
	<!-- Bootstrap -->
	<script src="js/bootstrap.min.js"></script>
	<!-- <link rel="stylesheet" type="text/css" href="css/bootstrap.css"> -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
	<!-- Jquery -->
	<script type="text/javascript" src="http://code.jquery.com/jquery-latest.min.js"></script>
	<!-- Joyride CSS file -->
	<link rel="stylesheet" type="text/css" href="node_modules/jquery.joyride/jquery.joyride.css">
	<!-- Joyride plugin -->
	<script src="node_modules/jquery.joyride/jquery.joyride.js"></script>
	<!-- Font Awesome icons -->
	<script src="https://use.fontawesome.com/releases/v5.0.7/js/all.js"></script>
	<!-- Page icon -->
	<link rel="shortcut icon" type="image/x-icon" href="favicon.ico" />
	<!-- Page title (name on the tab) -->
	<title>Pave: the Canadian Job Explorer</title>
	<!-- stylesheet -->
	<link rel="stylesheet" href="css/main.css">
	<!-- Google fonts -->
	<link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Raleway">
	<link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Montserrat">
</head>


<body>

<div style="position: fixed; margin-top: 1.7%; height: 10vh; margin-left: 2.2%; margin-bottom: 1.5%" class="d-none d-sm-block d-md-block d-lg-block">
	<div class="title" align="left">
		<h1 style="font-size: 3vw; font-weight: bold; color: #49AC52; text-align: left;">
			
			<a href="index.html" style="color: inherit">
			Pave</a>
		</h1>
	</div>
</div>

<div id="jobExample" style="position: fixed; left: 7.5vw; top: 14vw;">
		<svg height="50" width="50">
				<circle id="jobExampleCircle" cx="25" cy="25" r="1.8vw" fill="#FD7F27" />
		</svg>
</div>

<div class="d-inline" style="position: fixed; left: 15vw; top: 13vw; font-size: 1.4vw; font-weight: 600; color: #49AC52">
		<span style="font-size: 3.05vw;">This is a job group</span>
		</br>Hover with your cursor to see the details

		<div id="nextDiv" style="position: fixed; left: 21vw; top: 42vw;">
			<button class="intro-tour-button" style="width: 80px; opacity: 0.3" id="nextButton"><a id="nextLink" style="color: inherit">NEXT</a></button>
		</div>

	<div id="rightSide">
		
		<img style="opacity: 1; width: 47vw; position: fixed; right: 8vw; top: 6vw" id="background" src="img/logo.png">

	</div>

</div>

<script type="text/javascript" src="https://d3js.org/d3.v4.min.js"></script>

<script>

	var color = d3.scaleOrdinal()
	    .domain(d3.range(10))
	    .range([
	          "#4B40DD",
	          "#D42A2F",
	          "#329E33",
	          "#BCBC35",
	          "#2678B2",
	          "#FD7F27",
	          "#FD7F27",
	          "#7F7F7F",
	          "#8B564C",
	          "#29BECE",
	      ]);

	var colorTooltip = d3.scaleOrdinal()
    .domain([0,1,2,3,4,5,6,7,8,9])
    .range(["white", // blue
            "white", // orange
            "white", // green
            "white", // red
            "white", // purple
            "white", // brown
            "white", // pink
            "white", // grey
            "white", // yellow-green
            "white" ]) // teal

  var jobCluster = 6;

  var div = d3.select("body").append("div")
		.attr("class", "tooltip")
		.style("opacity", 0);

	d3.select("#jobExampleCircle").on("mouseover", function(){
		div.transition()
      .duration(300)
      .style("opacity", 1)
      .style("height", "auto")
      .style("width", "350px")
      .style("z-index", 99)
      .style("position", "absolute")
      // .style("border",   "1px solid black;");

      // d3.select("#tooltip")
      // .append("image")
      //   .attr("src", "img/logo.png")
      //   .attr("class", "img-rounded");

      // Display Hover Tooltip
      div.html("<div style='z-index: 99; font-weight: bold; font-size: 20px; padding-top: 9px; padding-left: 12px; font-family: Raleway; color: " + colorTooltip(jobCluster)
        +"; font-weight: bold'>" + "Chemical plant machine operators" + "</div>"
                +"<div id='tooltipContentPre' style='color: " + colorTooltip(jobCluster) +"; padding-left: 10px; font-size: 15px; font-family: Raleway;'>"
        
                +"<svg height='50px' style='margin: 10 4;' class='chart' aria-labelledby='title desc' role='img'>"+
                  "<title id='title'>A bar chart showing information</title>"+
                  "<g class='bar'>"+
                    "<rect width='"+(150*3.4/5)+"' style='fill: #256D1B;' height='15'></rect>"+
                    "<text style='fill: " + colorTooltip(jobCluster) +"; font-family: Raleway' x='"+(150*3.4/5+5)+"' y='9.5' dy='.35em'>"+Math.round(3.4*10)/10+" years of study</text>"+
                  "</g>"+
                  "<g class='bar'>"+
                    "<rect width='"+(350*25/116.18)+"' style='fill: #244F26' height='15' y='20'></rect>"+
                    "<text style='fill: " + colorTooltip(jobCluster) +"; font-family: Raleway' x='"+(Math.round((350*25/116.18+5)*100)/100)+"' y='28' dy='.35em'>$ "+Math.round(25*100)/100+" per hr</text>"+
                  "</g>"+
                  "<g class='bar'>"+
                    "<rect width='"+(150*0.57)+"' height='15' style='fill: #550C18' y='40'></rect>"+
                    "<text style='fill: " + colorTooltip(jobCluster) +"; font-family: Raleway' x='"+(150*0.57+5)+"' y='48' dy='.35em'>"+(Math.round(0.57*100))+"% risk of machine automation</text>"+
                  "</g>"+
                "</svg>"                                
                +"<br/><span style='padding-left: 3px;'>Some job titles from this group are ...</span></br>"
                +"<ul style='padding-top: 9px;'><li>"
                +"Chemical research technician"+"</li><li>"
                +"Mass spectrometer technician"+"</li><li>"
                +"Chemical technologist"+"</li></ul></div>")
        // Move div above mouse by "top" + radius and right by "left"
        .style("left", (d3.event.pageX) + 10 + "px")
        .style("background", color(jobCluster) )
        .style("top", (d3.event.pageY - 80) + 80 + "px");

        setTimeout(function(){
        	d3.select("#nextButton").transition().duration(700).style("opacity", 1)
        	d3.select("#nextLink").attr("href","Tutorial2.html")
        }, 500)
	})
</script>

</body>

</html>  		

