<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<!-- <meta name="viewport", content="width = device-width, initial-scale = 1"> -->

	<!-- Bootstrap sources -->
	<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js" integrity="sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4" crossorigin="anonymous"></script>
	<!-- <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/js/bootstrap.min.js" integrity="sha384-h0AbiXch4ZDo7tp9hKZ4TsHbi047NrKGLO3SEJAg45jXxnGIfYzk4Si90RDIqNm1" crossorigin="anonymous"></script> -->
	<!-- Bootstrap -->
	<script src="js/bootstrap.min.js"></script>
	<!-- <link rel="stylesheet" type="text/css" href="css/bootstrap.css"> -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

	<!-- Jquery -->
	<script type="text/javascript" src="http://code.jquery.com/jquery-latest.min.js"></script>

	<!-- Font Awesome icons -->
	<script src="https://use.fontawesome.com/releases/v5.0.7/js/all.js"></script>
	<!-- Page icon -->
	<link rel="shortcut icon" type="image/x-icon" href="favicon.ico" />
	<!-- Page title (name on the tab) -->
	<title>Pave: the Canadian Job Explorer</title>

	<!-- stylesheet -->
	<link rel="stylesheet" href="css/main.css">

	<!-- Google fonts -->
	<link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Raleway">
	<link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Montserrat">

</head>
<body scrolling="no">

	<!-- Collapsible Navigation Bar (mobile only) -->
	<div id="navbar-collapsible" class="container">
		<!-- .navbar-fixed-top, or .navbar-fixed-bottom can be added to keep the nav bar fixed on the screen -->
		<nav class="navbar navbar-light bg-light navbar-toggleable-md fixed-top d-md-none d-lg-none">
			<!-- Brand and toggle get grouped for better mobile display -->
			<span style="padding-left: 5px;">
				<a class="navbar-brand" style="font-size: 28px; font-weight: bold; font-family: Raleway; color: #49AC52; text-align: left;" href="Pave.html">
				Pave</a>
				<button style="position: fixed; right: 20px; top: 13px;" class="custom-toggler navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
					<span class="navbar-toggler-icon"></span>
				</button>

				<!-- Collect the nav links, forms, and other content for toggling -->
				<div class="collapse navbar-collapse" id="navbarSupportedContent">
					<ul class="navbar-nav mr-auto">
						<li class="nav-item active">
							<a class="nav-link" href="#" style="color: #49AC52; font-weight: bold">Home <span class="sr-only">(current)</span></a>
						</li>
						<li class="nav-item">
							<a class="nav-link" href="#" style="color: #49AC52">About</a>
						</li>
						<li class="nav-item dropdown">
							<a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" style="color: #49AC52">
								Feedback
							</a>
							<div class="dropdown-menu" aria-labelledby="navbarDropdown">
								<a class="dropdown-item" href="#" style="color: #49AC52">Action</a>
								<a class="dropdown-item" href="#" style="color: #49AC52">Another action</a>
								<div class="dropdown-divider"></div>
								<a class="dropdown-item" href="#" style="color: #49AC52">A third action</a>
							</li>
							<li class="nav-item">
								<a class="nav-link" href="#" style="color: #49AC52">Help</a>
							</li>

					</ul>

					</div>

				</div>

			</span>
		</nav>
	</div>


	<!-- end of navbar -->

	<br/>


	<!-- title bar (hidden for xs & sm displays like mobile) -->

	<div id="titleBar" style="position: fixed; height: 10vh; margin-left: 9%; margin-top: -0.35%" class="d-none d-md-block d-lg-block">
		<div  class="title" align="left">
			<h1 style="font-weight: bold; color: #49AC52; text-align: left;">

				<a href="index.html" style="color: inherit">
				Pave</a>
				<span>
					<a class="link-top" href="#" > 

					About</a>
					<a class="link-top" href="#" > 

					Help</a>
					<a class="link-top" href="#" > 

					Feedback</a>


				</span>
			</h1>
		</div>
	</div> <!-- end of title -->

	<svg  id="chart" style="pointer-events: visiblePainted; position: fixed; z-index: -1; width: 100vw; height: 70vh; top: 20vh" class="chart">	</svg>
	<!-- end of headers -->

	<!-- One column, visualisation & buttons in the middle, filters on top -->
	<!-- Change to filters on sides (negative margins) on bigger screens -->

	<!-- Column 1: slider 1 & 2 (Logic, Math) -->



	<!-- removed: slider with dropdown selection -->
	<!-- <div style="visibility: hidden; position: relative; bottom: 600px; left: 270px" align="left" id="dropdownSliderDiv"> -->

		<!-- removed: slider title based on dropdown value -->
		<!-- <div id="dropdown1Title" style="font-weight: bold; font-family: Raleway"> -->
			<!-- </div> -->
			<!-- <select class="col-8" id="dropdown1" style="font-weight: bold; font-family: Raleway"></select>  -->
			<!-- removed: Slider attached to Dropdown -->
			<!-- <div type="text" class="slider" id="slider2"> -->
				<!-- </div> -->
				<!-- slider array 1: Filter by Stats-->
				<!-- Buttons -->
				<div id="topButtons" style="pointer-events: none; position: fixed; z-index: 0; left: 33vw; top: 12vh;" class="col-4" align="center">
					<!-- Split, shuffle -->
					<div id="splitShuffle" align="center" style="z-index: 0;">
						<div class="btn-group" align="center" role="group" aria-label="...">

							<button id="split" type="button" class="btn btn-grey" style="width: 88px; pointer-events: auto">
								<span style="color: white; font-weight: 560;">
								Split</span> </button>

								<button id="shuffle" type="button" class="btn btn-grey" style="width: 88px; pointer-events: auto">
									<span style="color: white; font-weight: 560;">
									Shuffle</span> </button>

									<button id="combine" type="button" class="btn btn-grey" style="width: 88px; pointer-events: auto">
										<span style="color: white; font-weight: 560;">
										Combine</span> </i></button>

									</div>
								</div>

								<div id="viewButtons" align="center" style="pointer-events: none; position: relative; margin-top: 25px; z-index: 0;">

									<button id="graph" data-toggle="button" type="button" class="btn btn-graph" style="pointer-events: auto;" aria-pre autocomplete="off">
										<span style="color: white; font-weight: 560; font-family: Raleway">
										Graph View&nbsp&nbsp</span><img width="30px" style="padding-bottom: 3px;" id="graphToggle" src="img/toggle-off.png"></img>
									</button>
									
									<div align="center" id="graphCallout" style="z-index: -1; font-size: 18px; padding: 10px 10px 0px 10px; opacity: 0; box-shadow: 3px 3px 3px #404040FF; position: fixed; left: 36%; margin-top: 30px; height: 50px; width: 300px; background: #eaeaea;">
										Click here to compare these jobs.
										<div id="graphCalloutArrow" style="pointer-events: none; transform: rotate(45deg); position: relative; margin-top: -45px; height: 58px; width: 58px; border-radius: 500px 10000px 10000px 10000px; background: #eaeaea; z-index: -1">
									</div>

									<!-- <span style='padding-left: 10px'></span> -->

<!-- 									<button id="futureView" type="button" class="btn btn-grey d-block d-sm-inline d-md-inline d-lg-inline d-xl-inline">
										<span style="color: white; font-weight: 560; font-family: Raleway">
										Future View&nbsp&nbsp</span><img width="30px" style="padding-bottom: 3px;" id="futureToggle" src="img/toggle-off.png"></img>
									</button> -->
									</div>
								</div> <!-- end of viewButtons -->
							</div> <!-- end of topButtons -->


									<div align="center" id="graphCallout2" style="z-index: -1; font-size: 18px; padding: 10px 0px 0px 0px; opacity: 0; box-shadow: 3px 3px 3px #404040FF; position: fixed; left: 34%; top: 70%; height: 50px; width: 360px; background: #eaeaea;">
										<span style="color: #FE2E2E">Warning:</span> not many job groups remain!
									</div>


							<!-- suggested views buttons -->
							<div id="suggestedViewsDiv" style="position: fixed; bottom: 50vh; right: 3%; display: none;">

								<span style="font-size: 20px; font-weight: bold; color: grey; padding-left: 15px; padding-right: 5px;">
								Suggested Views</span>
								<button class="btn-xs" style="width: 20px;" id="minimizeViews" onclick="minimizeViews()"><i id="minimizeIcon" style="padding-right: 6px; padding-bottom: 4px;" class="fas fa-window-minimize"></i></button>

								<li class="list-graphModes" style="margin-top: 10px">
									<button id="a0" class="suggested-views-btn" style="background: #eaeaea" href="#">
									What's the risk my job will be automated?</button></li>
									<li class="list-graphModes">
										<button id="a1" class="suggested-views-btn" href="#">
										How much study for how much pay?</button></li>
										<li class="list-graphModes">
											<button id="a2" class="suggested-views-btn"  href="#">
											How many jobs exist?</button></li>

										</div>

										<script type="text/javascript">
											var viewsMinimized = 0;
											function minimizeViews() {
												viewsMinimized = 1-viewsMinimized;
												if(viewsMinimized == 1){
	// transition opacity and height
	d3.selectAll(".suggested-views-btn").transition().duration(500).style("opacity","0")
	d3.select("#suggested-views-btn").transition().duration(500).style("opacity","0")
	setTimeout(function(){
		d3.selectAll(".suggested-views-btn").style("display", "none")
		d3.selectAll(".list-graphModes").style("height", "0px")
	}, 500);
	d3.select("#suggestedViewsDiv").transition().duration(500).style("height", "0px")
	// switch icon from - to +
	d3.select("#minimizeIcon").attr("class", "fas fa-plus").style("padding-bottom", "2px").style("padding-right","6px")
}
else if(viewsMinimized == 0){
	d3.select("#suggestedViewsDiv").transition().duration(500).style("height", "250px")
	d3.selectAll(".suggested-views-btn").style("display", "inline")
	d3.selectAll(".list-graphModes").style("height", "67px")
	d3.selectAll(".suggested-views-btn").transition().duration(500).style("opacity","1")	
	d3.select("#minimizeIcon").attr("class", "fas fa-window-minimize").style("padding-bottom", "4px").style("padding-right","6px")
}
}
</script>

<!-- This is D3, our graphing library -->
<script type="text/javascript" src="https://d3js.org/d3.v4.min.js"></script>
<!-- These are extra libraries for paired multi-attribute transitions -->
<!-- 	<script src="https://d3js.org/d3-color.v1.min.js"></script>
<script src="https://d3js.org/d3-dispatch.v1.min.js"></script>
<script src="https://d3js.org/d3-ease.v1.min.js"></script>
<script src="https://d3js.org/d3-interpolate.v1.min.js"></script>
<script src="https://d3js.org/d3-selection.v1.min.js"></script>
<script src="https://d3js.org/d3-timer.v1.min.js"></script>
<script src="https://d3js.org/d3-transition.v1.min.js"></script>
<script src="https://d3js.org/d3-selection-multi.v1.min.js"></script> -->

<!-- legend container -->
<g class="legend" id="legend">

						<!-- legend buttons -->
					<button id="btnLegend" class="btn btn-legend">
						Colour<br>Legend</button>						<!-- legend button -->
					<button id="btnSizes" class="btn btn-legend" style="margin-left: 7px">
						Size<br>Legend</button>

</g>		

<!-- The data visualization -->
<script src="PaveVisualisation.js"></script>

<div id="bottomButtons" class="col-4" align="center" style="position: fixed; bottom: 10vh; left: 33vw; z-index: 99">
	<!-- Reset, pause, play buttons -->
	<div id="playPauseDiv" align="center">

		<button id="resetFilters" type="button" class="btn btn-md btn-grey">
			<span style="color: white; padding-right: 6px;">
			Reset Filters </span> <i class="fa fa-undo-alt"></i></button> 

			<button id="pause" type="button" class="btn btn-grey" style="margin-left: 1%;">
				<span style="color: white; padding-right: 6px;">
				Pause</span> <i class="fa fa-pause"></i></button>

				<button id="unpause" style="margin-left: 1%; display: none;" type="button" class="btn btn-grey">
					<span style="color: white; padding-right: 6px;">
					Play</span> <i class="fa fa-play"></i></button>

				</div>

</div>
<!-- end of centerDiv -->

				<!-- Column 3: slider 3 & 4 (Language, Computer) and graph modes suggested views buttons -->

				<div id="bottomDiv" class="col-1">

					<div id="sliderArray3" style="margin-left: -15px; margin-top: 20px;" type="text" class="slider"></div>

				</div>	<!-- end of bottomDiv -->	


</body>

<svg>
	<defs>

		<filter id="dropshadow" width="200%" height="200%">
			<feGaussianBlur in="SourceAlpha" stdDeviation="2.5"/> <!-- stdDeviation is how much to blur -->
			<feOffset dx="1.05" dy="1.4" result="offsetblur"/> <!-- how much to offset -->
			<feComponentTransfer>
				<feFuncA type="linear" slope="0.35"/> <!-- slope is the opacity of the shadow -->
			</feComponentTransfer>
			<feMerge> 
				<feMergeNode/> <!-- this contains the offset blurred image -->
				<feMergeNode in="SourceGraphic"/> <!-- this contains the element that the filter is applied to -->
			</feMerge>
		</filter>

		<filter id="f1" width="150%" height="150%">
      <feGaussianBlur result="blurOut" in="SourceAlpha" stdDeviation="1.5" />
      <feOffset result="offsetBlur" in="blurOut" dx="1.25" dy="2" />
			<feComponentTransfer>
				<feFuncA type="linear" slope="0.4"/> <!-- slope is the opacity of the shadow -->
			</feComponentTransfer>
			<feMerge> 
				<feMergeNode/> <!-- this contains the offset blurred image -->
				<feMergeNode in="SourceGraphic"/> <!-- this contains the element that the filter is applied to -->
			</feMerge>
    </filter>
	</defs>
</svg>

</html>